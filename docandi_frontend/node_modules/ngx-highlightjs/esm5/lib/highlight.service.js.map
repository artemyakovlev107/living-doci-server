{
  "version": 3,
  "file": "highlight.service.js",
  "sources": [
    "ng://ngx-highlightjs/projects/ngx-highlightjs/src/lib/highlight.service.ts"
  ],
  "sourcesContent": [
    "import { Injectable, Inject, Optional, InjectionToken } from '@angular/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { take, filter } from 'rxjs/operators';\r\nimport { HighlightOptions, HighlightResult } from './highlight.model';\r\nimport { OPTIONS } from './highlight.token';\r\n\r\ndeclare const hljs: any;\r\n\r\n@Injectable()\r\nexport class HighlightJS {\r\n  options: HighlightOptions = {\r\n    theme: 'github',\r\n    path: 'assets/lib/hljs',\r\n    auto: true\r\n  };\r\n\r\n  private _isReady$ = new BehaviorSubject(false);\r\n\r\n  // Stream that emits when highlightjs is loaded\r\n  get isReady(): Observable<boolean> {\r\n    return this._isReady$.pipe(\r\n      filter(isReady => isReady),\r\n      take(1),\r\n    );\r\n  }\r\n\r\n  constructor(@Optional() @Inject(OPTIONS) options: HighlightOptions) {\r\n    this.options = { ...this.options, ...options };\r\n\r\n    if (typeof hljs !== 'undefined') {\r\n      /** hljs is loaded by the user */\r\n      hljs.configure(this.options.config);\r\n      this._isReady$.next(true);\r\n    } else {\r\n      /** Load hljs script and style locally */\r\n      this._loadScript();\r\n      this._loadTheme();\r\n    }\r\n  }\r\n\r\n  highlight(name: string, value: string, ignore_illegals: boolean, continuation?: any): HighlightResult {\r\n    if (typeof hljs !== 'undefined') {\r\n      return hljs.highlight(name, value, ignore_illegals, continuation);\r\n    }\r\n  }\r\n\r\n  highlightAuto(value: string, languageSubset: string[]): HighlightResult {\r\n    if (typeof hljs !== 'undefined') {\r\n      return hljs.highlightAuto(value, languageSubset);\r\n    }\r\n  }\r\n\r\n  fixMarkup(value: string): string {\r\n    if (typeof hljs !== 'undefined') {\r\n      return hljs.fixMarkup(value);\r\n    }\r\n  }\r\n\r\n  highlightBlock(block: HTMLElement) {\r\n    if (typeof hljs !== 'undefined') {\r\n      hljs.highlightBlock(block);\r\n    }\r\n  }\r\n\r\n  configure(options: HighlightOptions) {\r\n    if (typeof hljs !== 'undefined') {\r\n      hljs.configure(this.options.config);\r\n    }\r\n  }\r\n\r\n  initHighlighting() {\r\n    if (typeof hljs !== 'undefined') {\r\n      hljs.initHighlighting();\r\n    }\r\n  }\r\n\r\n  initHighlightingOnLoad() {\r\n    if (typeof hljs !== 'undefined') {\r\n      hljs.initHighlightingOnLoad();\r\n    }\r\n  }\r\n\r\n  registerLanguage(name: string, language: Function) {\r\n    if (typeof hljs !== 'undefined') {\r\n      hljs.registerLanguage(name, language);\r\n    }\r\n  }\r\n\r\n  listLanguages(): string[] {\r\n    if (typeof hljs !== 'undefined') {\r\n      return hljs.listLanguages();\r\n    }\r\n  }\r\n\r\n  getLanguage(name: string): any {\r\n    if (typeof hljs !== 'undefined') {\r\n      return hljs.getLanguage(name);\r\n    }\r\n  }\r\n\r\n  private _loadScript() {\r\n    const script = document.createElement('script');\r\n    script.async = true;\r\n    script.type = 'text/javascript';\r\n    script.onload = () => {\r\n      hljs.configure(this.options.config);\r\n      this._isReady$.next(true);\r\n    };\r\n    script.src = `${this.options.path}/highlight.pack.js`;\r\n    document.head.appendChild(script);\r\n  }\r\n\r\n  private _loadTheme() {\r\n    const style = document.createElement('link');\r\n    style.rel = 'stylesheet';\r\n    style.type = 'text/css';\r\n    style.href = `${this.options.path}/styles/${this.options.theme}.css`;\r\n    document.head.appendChild(style);\r\n  }\r\n}\r\n"
  ],
  "names": [],
  "mappings": "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"
}
